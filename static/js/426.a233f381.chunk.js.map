{"version":3,"file":"static/js/426.a233f381.chunk.js","mappings":"2RAEaA,E,QAAaC,GAAAA,KAAH,kF,SCgEvB,EA1De,WACb,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KAEMC,GADWC,EAAAA,EAAAA,MACgBC,OAAOC,QAAQ,WAAY,IAyC5D,OAlCAC,EAAAA,EAAAA,YAAU,WAAM,wCAKd,gHAE2BC,EAAAA,EAAAA,IAAgBT,GAF3C,OAEUU,EAFV,OAKoB,KAFVC,EAAOD,EAASC,KAAKC,SAEtBC,OACDC,EAAAA,GAAAA,MAAA,mCAAwCd,IACxCG,EAAcQ,GAPtB,gDASII,QAAQC,IAAR,MATJ,0DALc,sBACThB,GADS,mCAkBdiB,EACD,GAAE,CAACjB,KAEJQ,EAAAA,EAAAA,YAAU,WAAM,wCACd,gHAE2BC,EAAAA,EAAAA,IAAgBL,GAF3C,OAEUM,EAFV,OAGUC,EAAOD,EAASC,KAAKC,QAC3BT,EAAcQ,GAJlB,gDAMII,QAAQC,IAAR,MANJ,0DADc,uBAAC,WAAD,wBAUdC,EACD,GAAE,KAGD,+BACE,UAACpB,EAAD,YACE,SAAC,KAAD,CAAcqB,SA1CH,SAAAC,GAAU,MACV,KAAfA,EACIL,EAAAA,GAAAA,MAAY,+BACZb,EAASkB,EAHY,IA2CpBjB,IAAc,SAAC,KAAD,CAAYA,WAAYA,KACvC,SAAC,EAAAkB,SAAD,CAAUC,UAAU,SAAC,KAAD,IAApB,UACE,SAAC,KAAD,UAKT,C","sources":["Pages/Movies/Movies.styled.jsx","Pages/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MainSlyels = styled.main`\n  min-height: calc(100vh - 64px);\n  padding: 40px 30px;\n`;\n","import { Loader, MoviesList, SearchMovies } from 'components';\nimport { Suspense, useEffect, useState } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { getMoviesByName } from '../../services/takeApi';\nimport { MainSlyels } from './Movies.styled';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [moviesData, setmoviesData] = useState([]);\n  const location = useLocation();\n  const fromQueryString = location.search.replace(/\\?query=/, '');\n\n  const getQuery = searchName =>\n    searchName === ''\n      ? toast.error('Enter the name of the movie')\n      : setQuery(searchName);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    async function fetchData() {\n      try {\n        const response = await getMoviesByName(query);\n        const data = response.data.results;\n\n        data.length === 0\n          ? toast.error(`Sorry, we can't find any ${query}`)\n          : setmoviesData(data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    fetchData();\n  }, [query]);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await getMoviesByName(fromQueryString);\n        const data = response.data.results;\n        setmoviesData(data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <MainSlyels>\n        <SearchMovies onSubmit={getQuery} />\n        {moviesData && <MoviesList moviesData={moviesData} />}\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </MainSlyels>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["MainSlyels","styled","useState","query","setQuery","moviesData","setmoviesData","fromQueryString","useLocation","search","replace","useEffect","getMoviesByName","response","data","results","length","toast","console","log","fetchData","onSubmit","searchName","Suspense","fallback"],"sourceRoot":""}